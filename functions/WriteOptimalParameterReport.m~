function WriteOptimalParameterReport(parms)
    %if parms.DoPerformPermutationTesting % && parms.do_CFWER
    fprintf(parms.fileID,'<hr>');
    fprintf(parms.fileID,'<h2>Parameter Quality Report</h2>');
    
    %% Load data
    optim_data = load(parms.files_created.hyperparameter_quality);

    %end

%     optim_data.hyperparameter_quality.pred_accuracy
%     optim_data.hyperparameter_quality.repro_index.data

    fprintf(parms.fileID,'Average prediction accuracy is %.2f (SD = %.2f) and average reproducibility index is r =  %.2f (SD = %.2f).', ...
        optim_data.hyperparameter_quality.pred_accuracy.mean, ...
        optim_data.hyperparameter_quality.pred_accuracy.std, ...
        optim_data.hyperparameter_quality.repro_index.mean, ...
        optim_data.hyperparameter_quality.repro_index.std);
    
    nsvs = sum(a.hyperparameter_quality.behavioral_predictions.Mdl.IsSupportVector);
    fprintf(parms.fileID,'The final model utilized %d SVs of the data and had a bias of %.2f',nsvs, optim_data.hyperparameter_quality.);

    %% Plot prediction accuracy data
    f=figure('visible','off');
    a = subplot(1,4,1:2,'parent',f); % left pane.

    [fdata,x]=ksdensity(optim_data.hyperparameter_quality.pred_accuracy.data,'Support',[-1.01 1.01]);
    plot(x,fdata,'k','parent',a);
    hold on;
    set(a,'xlim',[-1 1]) % since it's a corr coef...
    
    %line(cfwerdata.cfwerinfo.cfwer_single_pval_answer*ones(1,2),get(a,'ylim'),'color','r','parent',a)
    ylabel('Density')
    xlabel('Correlation Coefficient (r)')
    %legend({'Null FWE distribution',sprintf('Whole-brain threshold (FWER = %.2f)',cfwerdata.cfwerinfo.cfwer_p_value)})
    title(sprintf('Prediction accuracy'))

    % label the result.
    %    txt = sprintf('FWER(%.2f,v=%d) = %.5f',cfwerdata.cfwerinfo.cfwer_p_value,cfwerdata.cfwerinfo.v_value_in_mm3_actual_floor,cfwerdata.cfwerinfo.cfwer_single_pval_answer);
    %    xlim = get(a,'xlim'); ylim = get(a,'ylim');
    %    text(min(xlim)+range(xlim)*.10,min(ylim)+range(ylim)*.10,txt,'Parent',a)

    %% Plot reproduciblity index
    a = subplot(1,4,3:4,'parent',f); % right pane.
    [fdata,x]=ksdensity(optim_data.hyperparameter_quality.repro_index.data,'Support',[-1.01 1.01]);
    plot(x,fdata,'k','parent',a);
    hold on;
    set(a,'xlim',[-1 1]) % since it's a corr coef...
    ylabel('Density')
    xlabel('Correlation Coefficient (r)')
    %legend({'Null FWE distribution',sprintf('Whole-brain threshold (FWER = %.2f)',cfwerdata.cfwerinfo.cfwer_p_value)})
    title(sprintf('Reproducibility index'))

    %% Save the resultant figure and write to summary file
    figsnap = getframe(f); % capture whole figure.
    close(f); % close the fig
    fname = 'param_quality.png';
    imwrite(figsnap.cdata,fullfile(parms.picturedir,fname));
    imstr = 'Parameter quality plots';
    imtxt = ['<img src="images/' fname '" alt="' imstr '">'];
    fprintf(parms.fileID,'%s<br><br>',imtxt);
